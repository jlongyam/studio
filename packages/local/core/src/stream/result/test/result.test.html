<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
  <title>test: result</title>
  <script src="../../../prototype/string/stripInitial.min.js"></script>
  <!-- <script src="../../sub/hilight/dist/hilight.min.js"></script>-->
  <script src="../result.css.js"></script>
  <script src="../result.no-hilight.js"></script>
  <style>
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }
    body {
      font-family: Monospace;
      font-size: 1em;
      line-height: 1.5em;
      margin: 5%
    }
  </style>
</head>
<body>
  <h1>Test: result</h1>
  <section>
    <h2><code>result.js(STRING,CB)</code></h2>
    <p>Display result as string</p>
    <script>
      result.js('Hello World')
      result.js(123)
      result.js('CB to console.log', () => console.log('Hello Console'))
    </script>
    <script src="result.test.js"></script>
  </section>
  <section>
    <h2><code>[data-source-show]</code></h2>
    <p>Expose <code>script.innerHTML</code> from current script</p>
    <pre>&lt;script data-source-show&gt; or &lt;script data-source-show="true"&gt;</pre>
    <script data-source-show="true">
      result.js('Another Result')
      result.js({ 1: 'One', 2: 'Two' })
    </script>
    <script src="result.test.js" data-source-show="true"></script>
  </section>
  <section>
    <h2><code>result.html(STR.innerHTML,CB)</code></h2>
    <p>Display string as innerHTML to result area</p>
    <script>
      result.html('<h3>Hello from <code>result.html</code></h3>')
    </script>
    <p>Combine with <code>result.source</code></p>
    <script data-source-show="true">
      result.html('<h3><code>result.source = true</code></h3>')
      result.html('<pre id="pre"></pre>', () => { pre.innerHTML = 'Displayed from CB' })
    </script>
  </section>
  <section>
    <h2><code>result.css(STR.innerHTML,CB)</code></h2>
    <p>Append style element to head</p>
    <h4>h4 for demo</h4>
    <h4 id="h4"></h4>
    <script data-source-show="true">
      result.css('h4 { color: green; }')
      result.css('#h4 { color: blue; }', () => { h4.textContent = 'Generated from CB' })
      result.html('<h3 id="h3">Generated by <code>result.html</code></h3>', () => { result.css('#h3 { color: red; }') })
    </script>
    <p>Load from external script</p>
    <script data-source-show="true" src="result.css.test.js"></script>
  </section>
  <section>
    <h2>Extend <code>.then(CB)</code></h2>
    <p>It's execute after function evaluated, after argument CB</p>
    <script data-source-show="true">
      result.html('<pre id="output_0">OUTPUT</pre>').then(() => {
        result.js('content before: ' + output_0.textContent)
        output_0.textContent = 'Added after inserted'
      })
    </script>
  </section>
</body>

</html>