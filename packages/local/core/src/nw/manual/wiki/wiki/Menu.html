<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Menu.html</title>
  <meta name="generator" content="Haroopad 0.13.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="../asset/clearness-dark.css" rel="stylesheet">
</head>
<body class="markdown clearness-dark">
<p><strong>NOTE: some content in this wiki applies only to 0.12 and earlier versions. For official documentation on 0.13 and later, see <a href="http://docs.nwjs.io">http://docs.nwjs.io</a></strong></p><p><em>Menu API requires node-webkit &gt;= 0.3.0</em></p><p><code>Menu</code> represents a native menu, it can be used as window menu or context menu.</p><h2 id="synopsis"><a name="synopsis" href="#synopsis"></a>Synopsis</h2><pre><code class="lang-javascript" data-origin="<pre><code class=&quot;lang-javascript&quot;>// Load native UI library
var gui = require('nw.gui');

// Create an empty menu
var menu = new gui.Menu();

// Add some items
menu.append(new gui.MenuItem({ label: 'Item A' }));
menu.append(new gui.MenuItem({ label: 'Item B' }));
menu.append(new gui.MenuItem({ type: 'separator' }));
menu.append(new gui.MenuItem({ label: 'Item C' }));

// Remove one item
menu.removeAt(1);

// Popup as context menu
menu.popup(10, 10);

// Iterate menu's items
for (var i = 0; i &amp;lt; menu.items.length; ++i) {
  console.log(menu.items[i]);
}
</code></pre>">// Load native UI library
var gui = require('nw.gui');

// Create an empty menu
var menu = new gui.Menu();

// Add some items
menu.append(new gui.MenuItem({ label: 'Item A' }));
menu.append(new gui.MenuItem({ label: 'Item B' }));
menu.append(new gui.MenuItem({ type: 'separator' }));
menu.append(new gui.MenuItem({ label: 'Item C' }));

// Remove one item
menu.removeAt(1);

// Popup as context menu
menu.popup(10, 10);

// Iterate menu's items
for (var i = 0; i &lt; menu.items.length; ++i) {
  console.log(menu.items[i]);
}
</code></pre><h2 id="reference"><a name="reference" href="#reference"></a>Reference</h2><h3 id="new-menu([option])"><a name="new-menu([option])" href="#new-menu([option])"></a>new Menu([option])</h3><p>Create a new <code>Menu</code>.</p><p>If no <code>option</code> is specified, a normal context menu will be created. To create a menu to be used as window’s menu, you need to explicitly specify <code>'type': 'menubar'</code> in the <code>option</code>, e.g. <code>new Menu({ 'type': 'menubar' })</code>.</p><h3 id="menu.items"><a name="menu.items" href="#menu.items"></a>Menu.items</h3><p><strong>Get</strong> an array that contains all items of a menu. Each item is a <code>MenuItem</code>.</p><h3 id="menu.append(menuitem-item)"><a name="menu.append(menuitem-item)" href="#menu.append(menuitem-item)"></a>Menu.append(MenuItem item)</h3><p>Append <code>item</code> of <code>MenuItem</code> type to the tail of the <code>Menu</code>.</p><h3 id="menu.insert(menuitem-item,-int-i)"><a name="menu.insert(menuitem-item,-int-i)" href="#menu.insert(menuitem-item,-int-i)"></a>Menu.insert(MenuItem item, int i)</h3><p>Insert <code>item</code> of <code>MenuItem</code> type to the <code>i</code>th position of the <code>Menu</code>, <code>Menu</code> is 0-indexed.</p><h3 id="menu.remove(menuitem-item)"><a name="menu.remove(menuitem-item)" href="#menu.remove(menuitem-item)"></a>Menu.remove(MenuItem item)</h3><p>Remove <code>item</code> from <code>Menu</code>. This method requires you to keep the <code>MenuItem</code> outside the <code>Menu</code>.</p><h3 id="menu.removeat(int-i)"><a name="menu.removeat(int-i)" href="#menu.removeat(int-i)"></a>Menu.removeAt(int i)</h3><p>Remove the <code>i</code>th item form <code>Menu</code></p><h3 id="menu.popup(int-x,-int-y)"><a name="menu.popup(int-x,-int-y)" href="#menu.popup(int-x,-int-y)"></a>Menu.popup(int x, int y)</h3><p>Popup the <code>Menu</code> at position (<code>x</code>, <code>y</code>) in current window. Usually you would listen to <code>contextmenu</code> event of DOM elements and manually popup the menu:</p><pre><code class="lang-javascript" data-origin="<pre><code class=&quot;lang-javascript&quot;>document.body.addEventListener('contextmenu', function(ev) { 
  ev.preventDefault();
  menu.popup(ev.x, ev.y);
  return false;
});
</code></pre>">document.body.addEventListener('contextmenu', function(ev) { 
  ev.preventDefault();
  menu.popup(ev.x, ev.y);
  return false;
});
</code></pre><p>In this way, you can precisely choose which menu to show for different elements, and you can update menu elements just before popuping it.</p><h3 id="menu.createmacbuiltin(appname)"><a name="menu.createmacbuiltin(appname)" href="#menu.createmacbuiltin(appname)"></a>Menu.createMacBuiltin(appname)</h3><p><em>since v0.10.0-rc1</em><br>OSX only. Creates the default menus (App, Edit and Window). The items can be manipulated with the <code>items</code> property. The argument <code>appname</code> is used for the title of App menu.<br>Example:</p><pre><code class="lang-js" data-origin="<pre><code class=&quot;lang-js&quot;>// Load native UI library
var gui = require('nw.gui');

// Create menu
var menu = new gui.Menu({ type: 'menubar' });

// Create sub-menu
var menuItems = new gui.Menu();

menuItems.append(new gui.MenuItem({ label: 'Custom Menu Item 1' }));
menuItems.append(new gui.MenuItem({ label: 'Custom Menu Item 2' }));

// create MacBuiltin
menu.createMacBuiltin('Sample App',{
    hideEdit: true,
      hideWindow: true
});

// Append MenuItem as a Submenu
menu.append(
    new gui.MenuItem({
        label: 'Custom Menu Label',
        submenu: menuItems // menu elements from menuItems object
    })
);

// Append Menu to Window
gui.Window.get().menu = menu;
</code></pre>">// Load native UI library
var gui = require('nw.gui');

// Create menu
var menu = new gui.Menu({ type: 'menubar' });

// Create sub-menu
var menuItems = new gui.Menu();

menuItems.append(new gui.MenuItem({ label: 'Custom Menu Item 1' }));
menuItems.append(new gui.MenuItem({ label: 'Custom Menu Item 2' }));

// create MacBuiltin
menu.createMacBuiltin('Sample App',{
    hideEdit: true,
      hideWindow: true
});

// Append MenuItem as a Submenu
menu.append(
    new gui.MenuItem({
        label: 'Custom Menu Label',
        submenu: menuItems // menu elements from menuItems object
    })
);

// Append Menu to Window
gui.Window.get().menu = menu;
</code></pre><p>Since v0.10.1, if desired, you can also hide the “Edit” and “Window” menus when invoking <code>createMacBuiltin</code> like so:</p><pre><code class="lang-js" data-origin="<pre><code class=&quot;lang-js&quot;>nativeMenuBar.createMacBuiltin(&quot;My App&quot;, {
  hideEdit: true,
  hideWindow: true
});
</code></pre>">nativeMenuBar.createMacBuiltin("My App", {
  hideEdit: true,
  hideWindow: true
});
</code></pre><h3 id="menuitem.click"><a name="menuitem.click" href="#menuitem.click"></a>MenuItem.click</h3><p>Get or set a <code>MenuItem</code>‘s action.</p><pre><code class="lang-javascript" data-origin="<pre><code class=&quot;lang-javascript&quot;>menu.append(menuitem);
menuitem.click = function() { 
    console.log('clicked');
};
console.log(menu.items[0].click);
</code></pre>">menu.append(menuitem);
menuitem.click = function() { 
    console.log('clicked');
};
console.log(menu.items[0].click);
</code></pre><h2 id="see-also"><a name="see-also" href="#see-also"></a>See also</h2><ul>
<li><a href="Tray.html">Tray</a></li><li><a href="MenuItem.html">MenuItem</a></li><li><a href="https://github.com/b1rdex/nw-contextmenu">Example of cut/copy/paste context menu implementation</a></li></ul>


</body>
</html>
