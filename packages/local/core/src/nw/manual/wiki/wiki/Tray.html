<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tray.html</title>
  <meta name="generator" content="Haroopad 0.13.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="../asset/clearness-dark.css" rel="stylesheet">
</head>
<body class="markdown clearness-dark">
<p><strong>NOTE: some content in this wiki applies only to 0.12 and earlier versions. For official documentation on 0.13 and later, see <a href="http://docs.nwjs.io">http://docs.nwjs.io</a></strong></p><p><em>Tray API requires node-webkit &gt;= v0.3.0</em></p><p><code>Tray</code> is an abstraction of different controls on different platforms, usually it’s a small icon shown on the OS’s notification area. On Mac OS X it’s called <code>Status Item</code>, on GTK it’s <code>Status Icon</code>, and on Windows it’s <code>System Tray Icon</code>.</p><h2 id="synopsis"><a name="synopsis" href="#synopsis"></a>Synopsis</h2><pre><code class="lang-javascript" data-origin="<pre><code class=&quot;lang-javascript&quot;>// Load native UI library
var gui = require('nw.gui');

// Create a tray icon
var tray = new gui.Tray({ title: 'Tray', icon: 'img/icon.png' });

// Give it a menu
var menu = new gui.Menu();
menu.append(new gui.MenuItem({ type: 'checkbox', label: 'box1' }));
tray.menu = menu;

// Remove the tray
tray.remove();
tray = null;
</code></pre>">// Load native UI library
var gui = require('nw.gui');

// Create a tray icon
var tray = new gui.Tray({ title: 'Tray', icon: 'img/icon.png' });

// Give it a menu
var menu = new gui.Menu();
menu.append(new gui.MenuItem({ type: 'checkbox', label: 'box1' }));
tray.menu = menu;

// Remove the tray
tray.remove();
tray = null;
</code></pre><h2 id="reference"><a name="reference" href="#reference"></a>Reference</h2><h3 id="new-tray(option)"><a name="new-tray(option)" href="#new-tray(option)"></a>new Tray(option)</h3><p>Create a new <code>Tray</code>, <code>option</code> is an object contains initial settings for the <code>Tray</code>. <code>option</code> can have following fields: <code>title</code>, <code>tooltip</code>, <code>icon</code> and <code>menu</code>.</p><p>Every field has its own property in the <code>Tray</code>, see documentation of each property for details.</p><p>When you assign <code>new Tray(option)</code> to a variable/property take care about visibility and GC. </p><pre><code class="lang-javascript" data-origin="<pre><code class=&quot;lang-javascript&quot;>function init(){
 var tray = new gui.Tray({ title: 'Tray', icon: 'img/icon.png' });
 // In this case tray will be collected by GC after some time and icon will disappear
}
</code></pre>">function init(){
 var tray = new gui.Tray({ title: 'Tray', icon: 'img/icon.png' });
 // In this case tray will be collected by GC after some time and icon will disappear
}
</code></pre><p>here is correct variant</p><pre><code class="lang-javascript" data-origin="<pre><code class=&quot;lang-javascript&quot;>var tray;
function init(){
 tray = new gui.Tray({ title: 'Tray', icon: 'img/icon.png' });
}
</code></pre>">var tray;
function init(){
 tray = new gui.Tray({ title: 'Tray', icon: 'img/icon.png' });
}
</code></pre><h3 id="tray.title"><a name="tray.title" href="#tray.title"></a>Tray.title</h3><p><strong>Get</strong> or <strong>Set</strong> the <code>title</code> of <code>Tray</code>.</p><p>On Mac OS X <code>title</code> will be showed on status bar along with its <code>icon</code>, but it doesn’t have effects on GTK and Windows, since the latter two platforms only support tray to be showed as icons.</p><h3 id="tray.tooltip"><a name="tray.tooltip" href="#tray.tooltip"></a>Tray.tooltip</h3><p><strong>Get</strong> or <strong>Set</strong> the <code>tooltip</code> of <code>Tray</code>. <code>tooltip</code> shows when you hover the <code>Tray</code> with mouse.</p><p><code>tooltip</code> is showed on all three platforms. Should be set as <code>Tray</code> property rather from <code>option</code> object constructor. See issue <a href="https://github.com/rogerwang/node-webkit/issues/1903">#1903</a> for more information. </p><h3 id="tray.icon"><a name="tray.icon" href="#tray.icon"></a>Tray.icon</h3><p><strong>Get</strong> or <strong>Set</strong> the <code>icon</code> of <code>Tray</code>, <code>icon</code> must a path to your icon file. It can be a relative path which points to an icon in your app, or an absolute path pointing to a file in user’s system.</p><p>Mac OS X caveat: when used in notification context, (png) icon is not sized down like in windows notification area, it is rather displayed in 1:1 ratio.</p><h3 id="tray.alticon"><a name="tray.alticon" href="#tray.alticon"></a>Tray.alticon</h3><p><em>since v0.4.2</em></p><p>Mac OS X Only. <strong>Get</strong> or <strong>Set</strong> the alternate (active) tray icon. It has no effects on Linux and Windows.</p><h3 id="tray.iconsaretemplates"><a name="tray.iconsaretemplates" href="#tray.iconsaretemplates"></a>Tray.iconsAreTemplates</h3><p><em>since v0.11.3</em></p><p>Mac OS X Only. <strong>Get</strong> or <strong>Set</strong> whether <code>icon</code> and <code>alticon</code> images are treated as “templates” (<code>true</code> by default). When the property is set to <code>true</code> the images are treated as “templates” and the system automatically ensures proper styling according to the various states of the status item (e.g. dark menu, light menu, etc.). Template images should consist only of black and clear colours and can use the alpha channel in the image to adjust the opacity of black content. It has no effects on Linux and Windows. For further information see <a href="https://github.com/rogerwang/node-webkit/pull/2775">#2775</a>.</p><h3 id="tray.menu"><a name="tray.menu" href="#tray.menu"></a>Tray.menu</h3><p><strong>Get</strong> or <strong>Set</strong> the <code>menu</code> of <code>Tray</code>, <code>menu</code> will be showed when you click on the <code>Tray</code> icon.</p><p>On Mac OS X the menu will be showed when you click on the tray (which is the only action available for tray icons on Mac OS X). On Windows and Linux, the menu will be showed when you single click on the tray with right mouse button, clicking with left mouse button sends the <code>click</code> event and does not show a menu.</p><p>In order to reduce differences from different platforms, setting <code>menu</code> property is the only way to bind a menu to tray, there’s no way to popup a menu with left mouse button click on Linux and Windows.</p><h3 id="tray.remove()"><a name="tray.remove()" href="#tray.remove()"></a>Tray.remove()</h3><p>Remove the tray.</p><p>Once removed, you will not be able to show it again and you should set your tray variable to <code>null</code>. There is no way temporarily hide a tray icon.</p><h2 id="events"><a name="events" href="#events"></a>Events</h2><p>Following events can be listened by using <code>Tray.on()</code> function, for more information on how to receive events, you can visit <a href="http://nodejs.org/api/events.html#events_class_events_eventemitter">EventEmitter</a>.</p><h3 id="click"><a name="click" href="#click"></a>click</h3><p>Emitted when user clicks the menu item with left mouse button.</p><p>And you cannot catch click with right mouse button, because it is used to show menu. Even if you’re not binding a menu to a tray, you still can not listen to it. Double click events are also ignored.</p><p>Mac OS X note: NW.js cannot support menulet CMD⌘+drag because it would <a href="https://github.com/nwjs/nw.js/issues/3347#issuecomment-121109691">prohibit NW.js apps from being distributed in the App Store</a>.</p><h2 id="see-also"><a name="see-also" href="#see-also"></a>See also</h2><ul>
<li>[[Menu]]</li></ul>


</body>
</html>
