<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <html>webview Tag</html>
  <meta name="generator" content="Haroopad 0.13.2" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../asset/clearness-dark.css"></head>
</head>
<body class="markdown clearness-dark">
<h1 id="<webview>-tag"><a name="<webview>-tag" href="#&lt;webview&gt;-tag"></a>&lt;webview&gt; Tag</h1><hr class="section"><div class="toc"><ul>
<li><ul>
<li><span class="html">
<a href="#synopsis" html="Synopsis">Synopsis</a>
</span>
<!--span class="number">
0
</span-->
</li>
<li><span class="html">
<a href="#references" html="References">References</a>
</span>
<!--span class="number">
1
</span-->
<ul>
<li><span class="html">
<a href="#webview.showdevtools(show,-[container])" html="webview.showDevTools(show, [container])">webview.showDevTools(show, [container])</a>
</span>
<!--span class="number">
2
</span-->
</li>
<li><span class="html">
<a href="#webview.inspectelementat(x,-y)" html="webview.inspectElementAt(x, y)">webview.inspectElementAt(x, y)</a>
</span>
<!--span class="number">
3
</span-->
</li>
<li><span class="html">
<a href="#loading-local-files-in-webview" html="loading local files in webview">loading local files in webview</a>
</span>
<!--span class="number">
4
</span-->
</li>
<li><span class="html">
<a href="#node.js-support-in-webview" html="Node.js support in webview">Node.js support in webview</a>
</span>
<!--span class="number">
5
</span-->
</li>
<li><span class="html">
<a href="#executescript-in-main-world" html="executeScript in main world">executeScript in main world</a>
</span>
<!--span class="number">
6
</span-->
</li>
<li><span class="html">
<a href="#cookies-support-in-webview" html="Cookies support in webview">Cookies support in webview</a>
</span>
<!--span class="number">
7
</span-->
<ul>
<li><ul>
<li><span class="html">
<a href="#example-in-console:" html="Example in console:">Example in console:</a>
</span>
<!--span class="number">
8
</span-->
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</div><p>Use the <code>&lt;webview&gt;</code> tag to embed ‘guest’ content (such as web pages) in your app. Different from the <code>&lt;iframe&gt;</code>, the <code>&lt;webview&gt;</code> runs in a separate process than your app; it doesn’t have the same permissions as your app and all interactions between your app and embedded content will be asynchronous. This keeps your app safe from the embedded content.</p><h2 id="synopsis"><a name="synopsis" href="#synopsis"></a>Synopsis</h2><p>To embed a web page in your app, add the webview tag to your app’s embedder page (this is the app page that will display the guest content). In its simplest form, the webview tag includes the src of the web page and css styles that control the appearance of the webview container:</p><pre class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-html">webview</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"foo"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"http://www.google.com/"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"width:640px; height:480px"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-html">webview</span>&gt;</span>
</pre><h2 id="references"><a name="references" href="#references"></a>References</h2><p>See <a href="https://developer.chrome.com/docs/extensions/reference/webviewTag/">Chrome document of <code>&lt;webview&gt;</code> tag</a> for detailed API references.</p><p>NW.js added the following methods besides upstream APIs:</p><h3 id="webview.showdevtools(show,-[container])"><a name="webview.showdevtools(show,-[container])" href="#webview.showdevtools(show,-[container])"></a>webview.showDevTools(show, [container])</h3><ul>
<li><code>show</code> <code>{boolean}</code> flag: open or close the devtools window</li><li><code>container</code> <code>{webview Element}</code> <em>Optional</em> the element of the <code>&lt;webview&gt;</code> to be used to display devtools. By default, the DevTools is shown with a new window.</li></ul><p>DevTools extensions can be used in the embedded webview. Just load them with <code>--load-extensions</code>. The container webview should be made trusted by adding an addtional <code>webview</code> section in the <code>manifest.json</code> of the extension and add an attribute <code>partition='trusted'</code> to the webview tag. See the example in <a href="https://github.com/nwjs/nw.js/issues/6004">issue #6004</a></p><pre class="json hljs">"webview": {
  "partitions": [
     {
       "name": "trusted",
       "accessible_resources": [
          "&lt;all_urls&gt;"
       ]
     }
  ]
}
</pre><h3 id="webview.inspectelementat(x,-y)"><a name="webview.inspectelementat(x,-y)" href="#webview.inspectelementat(x,-y)"></a>webview.inspectElementAt(x, y)</h3><p>After opening devtools with <code>webview.showDevTools()</code>, this function can be called to inspect the element located at (x, y).</p><h3 id="loading-local-files-in-webview"><a name="loading-local-files-in-webview" href="#loading-local-files-in-webview"></a>loading local files in webview</h3><p>Add the following permission to the manifest:</p><pre class="json hljs">  "webview": {
     "partitions": [
        {
          "name": "trusted",
          "accessible_resources": [ "&lt;all_urls&gt;" ]
        }
     ]
  }
</pre><p>and add ‘partition=”trusted”‘ attribute to the webview tag.</p><h3 id="node.js-support-in-webview"><a name="node.js-support-in-webview" href="#node.js-support-in-webview"></a>Node.js support in webview</h3><p>To enable Node.js support in WebView, add the <code>allownw</code> attribute to the webview tag. Then Node.js will be turned on, no matter it loads local file or remote site. Use this feature with caution because webview is normally supposed to load untrusted contents.</p><h3 id="executescript-in-main-world"><a name="executescript-in-main-world" href="#executescript-in-main-world"></a>executeScript in main world</h3><p>The <a href="https://developer.chrome.com/apps/tags/webview#method-executeScript">executeScript function in Chrome</a> lets you inject JS code into webview, but in a isolated world. To access JS objects in the target DOM context, you can inject code into the main world context instead. Simply adding <code>{mainWorld: true}</code> to <code>InjectDetails</code> typed parameter of the function.</p><h3 id="cookies-support-in-webview"><a name="cookies-support-in-webview" href="#cookies-support-in-webview"></a>Cookies support in webview</h3><p>Webview has ‘getCookieStoreId()’ function which returns storeId which can be used in <a href="https://developer.chrome.com/extensions/cookies">chrome.cookies</a> API.</p><h5 id="example-in-console:"><a name="example-in-console:" href="#example-in-console:"></a>Example in console:</h5><p>Lets assume you have simple NW.js app with webview.</p><p>Show all cookies for e.g. <a href="http://docs.nwjs.io">http://docs.nwjs.io</a> in console (to have some cookies there you need to visit page first):</p><pre class="xml hljs">chrome.cookies.getAll({url:"http://docs.nwjs.io", storeId:webview.getCookieStoreId()}, console.log.bind(console));
</pre>


</body>
</html>
