<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
  <div id="div">
    <button onclick="location.reload()">reload</button>
  </div>
<script>
//function startLocalhost() {
	const subprocess = require('child_process');
	subprocess.exec('php -S localhost:80')
	nw.Window.open('http://localhost', {
		width: 500,
		height: 300
	}, function(win) {
		//win.on ('loaded', function(){ // work
		win.on('close', ()=> {
			subprocess.exec('taskkill /IM php.exe /F')
			//alert('Check PHP in task')
			win.close(true)// forcefully
		})		
		//win.showDevTools() // work
		// exposes 
		win.window.nw = nw
		win.window.showDevTools = win.showDevTools
	})
//}
</script>
</body>
</html>